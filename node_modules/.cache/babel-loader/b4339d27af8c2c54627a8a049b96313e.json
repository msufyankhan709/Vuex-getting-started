{"remainingRequest":"/home/msufyan/Desktop/Vue/vue-getting-started/xx-final/vue-heroes/node_modules/babel-loader/lib/index.js!/home/msufyan/Desktop/Vue/vue-getting-started/xx-final/vue-heroes/node_modules/eslint-loader/index.js??ref--13-0!/home/msufyan/Desktop/Vue/vue-getting-started/xx-final/vue-heroes/src/shared/data.service.js","dependencies":[{"path":"/home/msufyan/Desktop/Vue/vue-getting-started/xx-final/vue-heroes/src/shared/data.service.js","mtime":1633337813766},{"path":"/home/msufyan/Desktop/Vue/vue-getting-started/xx-final/vue-heroes/node_modules/cache-loader/dist/cjs.js","mtime":1633525790131},{"path":"/home/msufyan/Desktop/Vue/vue-getting-started/xx-final/vue-heroes/node_modules/babel-loader/lib/index.js","mtime":1633525790671},{"path":"/home/msufyan/Desktop/Vue/vue-getting-started/xx-final/vue-heroes/node_modules/eslint-loader/index.js","mtime":1633525788947}],"contextDependencies":[],"result":["import _typeof from \"/home/msufyan/Desktop/Vue/vue-getting-started/xx-final/vue-heroes/node_modules/@babel/runtime-corejs2/helpers/esm/typeof\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/home/msufyan/Desktop/Vue/vue-getting-started/xx-final/vue-heroes/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport * as axios from 'axios';\nimport { format } from 'date-fns';\nimport { inputDateFormat } from \"./constants\";\nimport { API } from \"./config\";\n\nvar getHeroes =\n/*#__PURE__*/\nfunction () {\n  var _ref = _asyncToGenerator(\n  /*#__PURE__*/\n  regeneratorRuntime.mark(function _callee() {\n    var response, data, heroes;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return axios.get(\"\".concat(API, \"/heroes\"));\n\n          case 3:\n            response = _context.sent;\n            data = parseList(response);\n            heroes = data.map(function (h) {\n              h.originDate = format(h.originDate, inputDateFormat);\n              h.fullName = \"\".concat(h.firstName, \" \").concat(h.lastName);\n              return h;\n            });\n            return _context.abrupt(\"return\", heroes);\n\n          case 9:\n            _context.prev = 9;\n            _context.t0 = _context[\"catch\"](0);\n            console.error(_context.t0);\n            return _context.abrupt(\"return\", []);\n\n          case 13:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[0, 9]]);\n  }));\n\n  return function getHeroes() {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar getHero =\n/*#__PURE__*/\nfunction () {\n  var _ref2 = _asyncToGenerator(\n  /*#__PURE__*/\n  regeneratorRuntime.mark(function _callee2(id) {\n    var response, hero;\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return axios.get(\"\".concat(API, \"/heroes/\").concat(id));\n\n          case 3:\n            response = _context2.sent;\n            hero = parseItem(response, 200);\n            hero.fullName = \"\".concat(hero.firstName, \" \").concat(hero.lastName);\n            return _context2.abrupt(\"return\", hero);\n\n          case 9:\n            _context2.prev = 9;\n            _context2.t0 = _context2[\"catch\"](0);\n            console.error(_context2.t0);\n            return _context2.abrupt(\"return\", null);\n\n          case 13:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[0, 9]]);\n  }));\n\n  return function getHero(_x) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nvar updateHero =\n/*#__PURE__*/\nfunction () {\n  var _ref3 = _asyncToGenerator(\n  /*#__PURE__*/\n  regeneratorRuntime.mark(function _callee3(hero) {\n    var response, updatedHero;\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.prev = 0;\n            _context3.next = 3;\n            return axios.put(\"\".concat(API, \"/heroes/\").concat(hero.id), hero);\n\n          case 3:\n            response = _context3.sent;\n            updatedHero = parseItem(response, 200);\n            return _context3.abrupt(\"return\", updatedHero);\n\n          case 8:\n            _context3.prev = 8;\n            _context3.t0 = _context3[\"catch\"](0);\n            console.error(_context3.t0);\n            return _context3.abrupt(\"return\", null);\n\n          case 12:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3, null, [[0, 8]]);\n  }));\n\n  return function updateHero(_x2) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nvar addHero =\n/*#__PURE__*/\nfunction () {\n  var _ref4 = _asyncToGenerator(\n  /*#__PURE__*/\n  regeneratorRuntime.mark(function _callee4(hero) {\n    var response, addedHero;\n    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.prev = 0;\n            _context4.next = 3;\n            return axios.post(\"\".concat(API, \"/heroes\"), hero);\n\n          case 3:\n            response = _context4.sent;\n            addedHero = parseItem(response, 201);\n            return _context4.abrupt(\"return\", addedHero);\n\n          case 8:\n            _context4.prev = 8;\n            _context4.t0 = _context4[\"catch\"](0);\n            console.error(_context4.t0);\n            return _context4.abrupt(\"return\", null);\n\n          case 12:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4, null, [[0, 8]]);\n  }));\n\n  return function addHero(_x3) {\n    return _ref4.apply(this, arguments);\n  };\n}();\n\nvar deleteHero =\n/*#__PURE__*/\nfunction () {\n  var _ref5 = _asyncToGenerator(\n  /*#__PURE__*/\n  regeneratorRuntime.mark(function _callee5(hero) {\n    var response;\n    return regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            _context5.prev = 0;\n            _context5.next = 3;\n            return axios.delete(\"\".concat(API, \"/heroes/\").concat(hero.id));\n\n          case 3:\n            response = _context5.sent;\n            parseItem(response, 200);\n            return _context5.abrupt(\"return\", hero.id);\n\n          case 8:\n            _context5.prev = 8;\n            _context5.t0 = _context5[\"catch\"](0);\n            console.error(_context5.t0);\n            return _context5.abrupt(\"return\", null);\n\n          case 12:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, _callee5, null, [[0, 8]]);\n  }));\n\n  return function deleteHero(_x4) {\n    return _ref5.apply(this, arguments);\n  };\n}();\n\nvar getVillains =\n/*#__PURE__*/\nfunction () {\n  var _ref6 = _asyncToGenerator(\n  /*#__PURE__*/\n  regeneratorRuntime.mark(function _callee6() {\n    var response, data, villains;\n    return regeneratorRuntime.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            _context6.prev = 0;\n            _context6.next = 3;\n            return axios.get(\"\".concat(API, \"/villains\"));\n\n          case 3:\n            response = _context6.sent;\n            data = parseList(response);\n            villains = data.map(function (v) {\n              v.originDate = format(v.originDate, inputDateFormat);\n              v.fullName = \"\".concat(v.firstName, \" \").concat(v.lastName);\n              return v;\n            });\n            return _context6.abrupt(\"return\", villains);\n\n          case 9:\n            _context6.prev = 9;\n            _context6.t0 = _context6[\"catch\"](0);\n            console.error(_context6.t0);\n            return _context6.abrupt(\"return\", []);\n\n          case 13:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, _callee6, null, [[0, 9]]);\n  }));\n\n  return function getVillains() {\n    return _ref6.apply(this, arguments);\n  };\n}();\n\nvar getVillain =\n/*#__PURE__*/\nfunction () {\n  var _ref7 = _asyncToGenerator(\n  /*#__PURE__*/\n  regeneratorRuntime.mark(function _callee7(id) {\n    var response, villain;\n    return regeneratorRuntime.wrap(function _callee7$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            _context7.prev = 0;\n            _context7.next = 3;\n            return axios.get(\"\".concat(API, \"/villains/\").concat(id));\n\n          case 3:\n            response = _context7.sent;\n            villain = parseItem(response, 200);\n            villain.fullName = \"\".concat(villain.firstName, \" \").concat(villain.lastName);\n            return _context7.abrupt(\"return\", villain);\n\n          case 9:\n            _context7.prev = 9;\n            _context7.t0 = _context7[\"catch\"](0);\n            console.error(_context7.t0);\n            return _context7.abrupt(\"return\", null);\n\n          case 13:\n          case \"end\":\n            return _context7.stop();\n        }\n      }\n    }, _callee7, null, [[0, 9]]);\n  }));\n\n  return function getVillain(_x5) {\n    return _ref7.apply(this, arguments);\n  };\n}();\n\nvar updateVillain =\n/*#__PURE__*/\nfunction () {\n  var _ref8 = _asyncToGenerator(\n  /*#__PURE__*/\n  regeneratorRuntime.mark(function _callee8(villain) {\n    var response, updatedVillain;\n    return regeneratorRuntime.wrap(function _callee8$(_context8) {\n      while (1) {\n        switch (_context8.prev = _context8.next) {\n          case 0:\n            _context8.prev = 0;\n            _context8.next = 3;\n            return axios.put(\"\".concat(API, \"/villains/\").concat(villain.id), villain);\n\n          case 3:\n            response = _context8.sent;\n            updatedVillain = parseItem(response, 200);\n            return _context8.abrupt(\"return\", updatedVillain);\n\n          case 8:\n            _context8.prev = 8;\n            _context8.t0 = _context8[\"catch\"](0);\n            console.error(_context8.t0);\n            return _context8.abrupt(\"return\", null);\n\n          case 12:\n          case \"end\":\n            return _context8.stop();\n        }\n      }\n    }, _callee8, null, [[0, 8]]);\n  }));\n\n  return function updateVillain(_x6) {\n    return _ref8.apply(this, arguments);\n  };\n}();\n\nvar addVillain =\n/*#__PURE__*/\nfunction () {\n  var _ref9 = _asyncToGenerator(\n  /*#__PURE__*/\n  regeneratorRuntime.mark(function _callee9(villain) {\n    var response, addedVillain;\n    return regeneratorRuntime.wrap(function _callee9$(_context9) {\n      while (1) {\n        switch (_context9.prev = _context9.next) {\n          case 0:\n            _context9.prev = 0;\n            _context9.next = 3;\n            return axios.post(\"\".concat(API, \"/villains\"), villain);\n\n          case 3:\n            response = _context9.sent;\n            addedVillain = parseItem(response, 201);\n            return _context9.abrupt(\"return\", addedVillain);\n\n          case 8:\n            _context9.prev = 8;\n            _context9.t0 = _context9[\"catch\"](0);\n            console.error(_context9.t0);\n            return _context9.abrupt(\"return\", null);\n\n          case 12:\n          case \"end\":\n            return _context9.stop();\n        }\n      }\n    }, _callee9, null, [[0, 8]]);\n  }));\n\n  return function addVillain(_x7) {\n    return _ref9.apply(this, arguments);\n  };\n}();\n\nvar deleteVillain =\n/*#__PURE__*/\nfunction () {\n  var _ref10 = _asyncToGenerator(\n  /*#__PURE__*/\n  regeneratorRuntime.mark(function _callee10(villain) {\n    var response;\n    return regeneratorRuntime.wrap(function _callee10$(_context10) {\n      while (1) {\n        switch (_context10.prev = _context10.next) {\n          case 0:\n            _context10.prev = 0;\n            _context10.next = 3;\n            return axios.delete(\"\".concat(API, \"/villains/\").concat(villain.id));\n\n          case 3:\n            response = _context10.sent;\n            parseItem(response, 200);\n            return _context10.abrupt(\"return\", villain.id);\n\n          case 8:\n            _context10.prev = 8;\n            _context10.t0 = _context10[\"catch\"](0);\n            console.error(_context10.t0);\n            return _context10.abrupt(\"return\", null);\n\n          case 12:\n          case \"end\":\n            return _context10.stop();\n        }\n      }\n    }, _callee10, null, [[0, 8]]);\n  }));\n\n  return function deleteVillain(_x8) {\n    return _ref10.apply(this, arguments);\n  };\n}();\n\nvar parseList = function parseList(response) {\n  if (response.status !== 200) throw Error(response.message);\n  if (!response.data) return [];\n  var list = response.data;\n\n  if (_typeof(list) !== 'object') {\n    list = [];\n  }\n\n  return list;\n};\n\nexport var parseItem = function parseItem(response, code) {\n  if (response.status !== code) throw Error(response.message);\n  var item = response.data;\n\n  if (_typeof(item) !== 'object') {\n    item = undefined;\n  }\n\n  return item;\n};\nexport var dataService = {\n  getHeroes: getHeroes,\n  getHero: getHero,\n  updateHero: updateHero,\n  addHero: addHero,\n  deleteHero: deleteHero,\n  getVillains: getVillains,\n  getVillain: getVillain,\n  updateVillain: updateVillain,\n  addVillain: addVillain,\n  deleteVillain: deleteVillain\n};",{"version":3,"sources":["/home/msufyan/Desktop/Vue/vue-getting-started/xx-final/vue-heroes/src/shared/data.service.js"],"names":["axios","format","inputDateFormat","API","getHeroes","get","response","data","parseList","heroes","map","h","originDate","fullName","firstName","lastName","console","error","getHero","id","hero","parseItem","updateHero","put","updatedHero","addHero","post","addedHero","deleteHero","delete","getVillains","villains","v","getVillain","villain","updateVillain","updatedVillain","addVillain","addedVillain","deleteVillain","status","Error","message","list","code","item","undefined","dataService"],"mappings":"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","sourcesContent":["import * as axios from 'axios';\n\nimport { format } from 'date-fns';\nimport { inputDateFormat } from './constants';\n\nimport { API } from './config';\n\nconst getHeroes = async function() {\n  try {\n    const response = await axios.get(`${API}/heroes`);\n\n    let data = parseList(response);\n\n    const heroes = data.map(h => {\n      h.originDate = format(h.originDate, inputDateFormat);\n      h.fullName = `${h.firstName} ${h.lastName}`;\n      return h;\n    });\n    return heroes;\n  } catch (error) {\n    console.error(error);\n    return [];\n  }\n};\n\nconst getHero = async function(id) {\n  try {\n    const response = await axios.get(`${API}/heroes/${id}`);\n    let hero = parseItem(response, 200);\n    hero.fullName = `${hero.firstName} ${hero.lastName}`;\n    return hero;\n  } catch (error) {\n    console.error(error);\n    return null;\n  }\n};\n\nconst updateHero = async function(hero) {\n  try {\n    const response = await axios.put(`${API}/heroes/${hero.id}`, hero);\n    const updatedHero = parseItem(response, 200);\n    return updatedHero;\n  } catch (error) {\n    console.error(error);\n    return null;\n  }\n};\n\nconst addHero = async function(hero) {\n  try {\n    const response = await axios.post(`${API}/heroes`, hero);\n    const addedHero = parseItem(response, 201);\n    return addedHero;\n  } catch (error) {\n    console.error(error);\n    return null;\n  }\n};\n\nconst deleteHero = async function(hero) {\n  try {\n    const response = await axios.delete(`${API}/heroes/${hero.id}`);\n    parseItem(response, 200);\n    return hero.id;\n  } catch (error) {\n    console.error(error);\n    return null;\n  }\n};\n\nconst getVillains = async function() {\n  try {\n    const response = await axios.get(`${API}/villains`);\n    let data = parseList(response);\n    const villains = data.map(v => {\n      v.originDate = format(v.originDate, inputDateFormat);\n      v.fullName = `${v.firstName} ${v.lastName}`;\n      return v;\n    });\n    return villains;\n  } catch (error) {\n    console.error(error);\n    return [];\n  }\n};\n\nconst getVillain = async function(id) {\n  try {\n    const response = await axios.get(`${API}/villains/${id}`);\n    let villain = parseItem(response, 200);\n    villain.fullName = `${villain.firstName} ${villain.lastName}`;\n    return villain;\n  } catch (error) {\n    console.error(error);\n    return null;\n  }\n};\n\nconst updateVillain = async function(villain) {\n  try {\n    const response = await axios.put(`${API}/villains/${villain.id}`, villain);\n    const updatedVillain = parseItem(response, 200);\n    return updatedVillain;\n  } catch (error) {\n    console.error(error);\n    return null;\n  }\n};\n\nconst addVillain = async function(villain) {\n  try {\n    const response = await axios.post(`${API}/villains`, villain);\n    const addedVillain = parseItem(response, 201);\n    return addedVillain;\n  } catch (error) {\n    console.error(error);\n    return null;\n  }\n};\n\nconst deleteVillain = async function(villain) {\n  try {\n    const response = await axios.delete(`${API}/villains/${villain.id}`);\n    parseItem(response, 200);\n    return villain.id;\n  } catch (error) {\n    console.error(error);\n    return null;\n  }\n};\n\nconst parseList = response => {\n  if (response.status !== 200) throw Error(response.message);\n  if (!response.data) return [];\n  let list = response.data;\n  if (typeof list !== 'object') {\n    list = [];\n  }\n  return list;\n};\n\nexport const parseItem = (response, code) => {\n  if (response.status !== code) throw Error(response.message);\n  let item = response.data;\n  if (typeof item !== 'object') {\n    item = undefined;\n  }\n  return item;\n};\n\nexport const dataService = {\n  getHeroes,\n  getHero,\n  updateHero,\n  addHero,\n  deleteHero,\n  getVillains,\n  getVillain,\n  updateVillain,\n  addVillain,\n  deleteVillain,\n};\n"]}]}